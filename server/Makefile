DBGFLAGS ?= -g -Wall
DUSE_AESD_CHAR_DEVICE ?= -DUSE_AESD_CHAR_DEVICE=1
DBGBUILDFLAGS ?= -DDEBUG_ON
LDFLAGS ?=-lpthread
SRC ?= aesdsocket.c
OBJ ?= aesdsocket

default:
	$(CROSS_COMPILE) $(CC) $(DBGFLAGS) $(LDFLAGS) $(DUSE_AESD_CHAR_DEVICE) -o $(OBJ) $(SRC)
all:
	$(CROSS_COMPILE) $(CC) $(DBGFLAGS) $(LDFLAGS) $(DUSE_AESD_CHAR_DEVICE) -o $(OBJ) $(SRC)
debug:
	$(CROSS_COMPILE) $(CC) $(DBGFLAGS) $(LDFLAGS) $(DBGBUILDFLAGS) $(DUSE_AESD_CHAR_DEVICE) -o $(OBJ) $(SRC)
debug_no_char_device:
	$(CROSS_COMPILE) $(CC) $(DBGFLAGS) $(LDFLAGS) $(DBGBUILDFLAGS) -o $(OBJ) $(SRC) -DUSE_AESD_CHAR_DEVICE=0
no_char_device:
	$(CROSS_COMPILE) $(CC) $(DBGFLAGS) $(LDFLAGS) -o $(OBJ) $(SRC) -DUSE_AESD_CHAR_DEVICE=0

clean:
	rm -f *.o aesdsocket
